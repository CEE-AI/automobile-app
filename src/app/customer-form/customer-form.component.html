<!-- customer-form.component.html -->

<form [formGroup]="customerForm" class="container row g-3">
  <h2>Customer Information</h2>
  <div class="form-group col-md-6">
    <label for="firstName">First Name</label>
    <input type="text" id="firstName" class="form-control" formControlName="firstName">
  </div>
  <div class="form-group col-md-6">
    <label for="lastName">Last Name</label>
    <input type="text" id="lastName" class="form-control" formControlName="lastName">
  </div>
  <div class="form-group col-md-6">
    <label for="refCode">Reference Code</label>
    <input type="text" id="refCode" class="form-control" formControlName="refCode">
  </div>
  <div class="form-group col-md-6">
    <label for="email">Email Address</label>
    <input type="email" id="email" class="form-control" formControlName="email">
  </div>
  <div class="form-group col-md-6">
    <label for="selectedMaker">Automobile Maker</label>
    <select id="selectedMaker" class="form-control" formControlName="maker">
      <option value="" disabled>Select Maker</option>
      <ng-container *ngFor="let makerObject of autoModels">
        <ng-container *ngFor="let maker of makerObject | keyvalue">
          <option [value]="maker.key">{{ maker.key }}</option>
        </ng-container>
      </ng-container>
    </select>
  </div>
  <!-- Display the Model dropdown only when a Maker is selected -->
  <div class="form-group col-md-6" *ngIf="customerForm.get('maker')?.value">
    <label for="selectedModel">Model</label>
    <select id="selectedModel" class="form-control" formControlName="model">
      <option value="" disabled>Select Model</option>
      <ng-container *ngFor="let makerObject of autoModels">
        <ng-container *ngFor="let maker of makerObject | keyvalue">
          <ng-container *ngIf="maker.key === customerForm.get('maker')?.value">
            <option *ngFor="let model of maker.value" [value]="model">{{ model }}</option>
          </ng-container>
        </ng-container>
      </ng-container>
    </select>
  </div>
  
  <div class="col-12">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="gridCheck">
      <label class="form-check-label" for="gridCheck">
        Check me out
      </label>
    </div>
  </div>

  <button type="submit" class="btn btn-primary" (click)="onNext()">Next</button>
</form>
